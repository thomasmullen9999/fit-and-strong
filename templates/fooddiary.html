{% extends "layout.html" %}

{% block title %}
    Food Diary
{% endblock %}

{% block main %}

  <h1>Food Diary</h1>

  <form action="/fooddiary" method="post">
    <button type="submit">New Food Log</button>
  </form>

    {% for foodlog in foodlogs %}
    <h3>{{ foodlog.date }}</h3>

      {% for instance in foodinstances %}
        {% if instance.food_log_id == foodlog.id %}
        <h4>{{ instance.food_name }} ({{ instance.amount_grams }}g) Protein: {{ instance.protein_grams }}g Carbs: {{ instance.carbs_grams }}g Fat: {{ instance.fat_grams }}g {{ instance.calories }}kcal</h4>
        {% endif %}
      {% endfor %}

    <form action="/addfood/{{ foodlog.id }}" method="post">
      <select name="food-name">
        <option disabled selected value="">Food</option>
          {% for food in foods %}
          <option value="{{ food.name }}">{{ food.name }}</option>
          {% endfor %}
        </select>
      <input autocomplete="off" name="amount" placeholder="Amount(g)" type="number">
      <input class="btn" type="submit" name="add" value="Add Food">
    </form>

    <form action="/deletefoodlog/{{ foodlog.id }}" method="post">
      <input class="btn" type="submit" name="delete" value="Delete">
    </form>
    <br><br><br>

    {% endfor %}
    
{% endblock %}