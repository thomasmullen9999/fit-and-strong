{% extends "layout.html" %}

{% block title %}
    My Stats
{% endblock %}

{% block main %}

  <form action="/mystats" method="post">
    <input autocomplete="off" autofocus name="weight" placeholder="Weight (kg)" type="text">
    <input autocomplete="off" name="steps" placeholder="Steps" type="number">
    <input autocomplete="off" name="sleep" placeholder="Hours of sleep" type="number" step="0.01">
    <button type="submit">Add Today's Stats</button>
  </form>

  <table>
    <thead>
        <tr>
            <th>Date</th>
            <th>Weight(kg)</th>
            <th>Steps</th>
            <th>Hours of Sleep</th>
        </tr>
    </thead>
    <!-- Loop through the stats to display each one in the table -->
    <tbody>
        {% for stat in stats %}
        <tr>
            <td>{{ stat.date }}</td>
            <td>{{ stat.weight_kg }}</td>
            <td>{{ stat.steps }}</td>
            <td>{{ stat.sleep_hours }}</td>
            <td>
                <form action="/deletestat/{{ stat.id }}" method="post">
                <input class="btn" type="submit" name="delete" value="Remove">
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>    
  </table>
    
{% endblock %}